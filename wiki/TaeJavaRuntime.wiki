#labels Phase-Design,Featured
=引言=
 
     TAE Java运行时是基于Java Web的淘宝应用引擎，简化开发、部署、运维等成本

----

=支持技术=

     基础支持：标准Servlet 3.0 技术(兼容Servlet 2.x），JSP 2.1

     框架支持：不限制特定的框架（请注意，从安全和稳定性的角度出发，官方将会提供推荐的框架版本依赖，推荐列表将被添加）     

     数据库支持：MySQL 5.x

     内建服务：TAE Java运行时提供了内建的服务API，提供一些基础服务，例如：分布式缓存服务、分布式文件服务、HTTP请求服务和日志服务等（不建议开发人员重复开发这类服务功能）
 
----

=开发规范=

     ==内建服务（Build-in Service） API接口==    
  

	===分布式缓存服务===

        为应用重复使用生命周期内的临时缓存解决方案，不建议开发人员强烈依赖于缓存，作为持久化的存储技术方案。

	===分布式文件服务===

        为应用提供文件存储服务，支持文本文件和二进制文件，不建议开发人员存放内容太大的文件，比如超过5M。

	===HTTP获取服务===

        提供基本的HTTP GET和POST获取服务

	===日志服务===

        通用的日志服务，暴露slf4j API接口，开发人员可以自行选择日志的实现，比如logj4、Java Logging或Logback等

        开发者可以参考文档：TODO Add JavaDoc

        开发不许关心内置服务API的具体实现，只需要关心服务API接口。为了方便开发，提供了服务暴露工具类：com.taobao.tae.open.api.Services，通过Getter方法获取相关的Serivce接口     

----
     
=安全规范=

     ==SQL注入==
        非常常见的安全问题，开发人员无需过分关注SQL注入问题，TAE Java运行时环境将会自行处理。不过，为了以防万一，请注意开发人员在设计师数据库时，尽可能地避免复杂的字符拼接的SQL，并且不要直接暴露SQL交互接口。特别提示：由于SQL注入问题，线上系统，可能会在应用关联的数据库表中添加安全字段，这些字段不会影响应用功能性。

     ==Cookie==
        为了防止应用有意或无意地篡改用户Cookie信息，应用只能读取Cookie，无法通过新增Cookie信息。从代码层面来说，javax.servlet.http.HttpServletResponse#addCookie(javax.servlet.http.Cookie)方法将被禁止。

     ==HTTP响应（Response）头==
          
     ==Session==
        暂时不开放写入Session的功能，即javax.servlet.http.HttpSession#setAttribute(String,Object)方法调用无效。在应用设计时，可以考虑使用CacheService来替代Session存储的功能。如果仍然无法满足需求，请提交需求给维护人：桃谷

     ==Redirect（重定向）==
        外链存在的安全安全风险，因此重定向的URL只能是相对路径或者白名单域名
        白名单域名列表：
        .taobao.com            

     ==XSS==
        常见的安全问题，开发者无需关心处理该问题，TAE Java运行时环境将会自行处理

     ==CSRF==
        常见的安全问题，开发者无需关心处理该问题，TAE Java运行时环境将会自行处理

     ==文件上传==
        暂时不开放，可以使用FileService作为替代技术方案，未来可能支持
     
----

=部署规范=

     ==线下（开发）部署方式==

     ==线上部署方式==

     